(function(t){function e(e){for(var r,n,s=e[0],c=e[1],u=e[2],l=0,d=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);m&&m(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,n=1;n<a.length;n++){var s=a[n];0!==o[s]&&(r=!1)}r&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({"admin.panel~area.form~moderator.form~route.filters~route.form":"admin.panel~area.form~moderator.form~route.filters~route.form","admin.panel":"admin.panel","area.form~pitch.form~route.filters~route.form":"area.form~pitch.form~route.filters~route.form","area.form":"area.form","route.filters":"route.filters","route.form":"route.form","moderator.form":"moderator.form","pitch.form":"pitch.form","image.upload":"image.upload","login.form":"login.form","popup.service":"popup.service","register.form":"register.form"}[t]||t)+"."+{"admin.panel~area.form~moderator.form~route.filters~route.form":"82421ffc","admin.panel":"710d1720","area.form~pitch.form~route.filters~route.form":"cac5949c","area.form":"1a328345","route.filters":"9ae5fe98","route.form":"fcb25ee3","moderator.form":"b323a430","pitch.form":"f2df0be2","image.upload":"7c626eec","login.form":"66782540","popup.service":"ac00d11d","register.form":"5b8dc981"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"admin.panel~area.form~moderator.form~route.filters~route.form":1,"admin.panel":1,"area.form~pitch.form~route.filters~route.form":1,"area.form":1,"route.filters":1,"moderator.form":1,"pitch.form":1,"image.upload":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({"admin.panel~area.form~moderator.form~route.filters~route.form":"admin.panel~area.form~moderator.form~route.filters~route.form","admin.panel":"admin.panel","area.form~pitch.form~route.filters~route.form":"area.form~pitch.form~route.filters~route.form","area.form":"area.form","route.filters":"route.filters","route.form":"route.form","moderator.form":"moderator.form","pitch.form":"pitch.form","image.upload":"image.upload","login.form":"login.form","popup.service":"popup.service","register.form":"register.form"}[t]||t)+"."+{"admin.panel~area.form~moderator.form~route.filters~route.form":"dba841c6","admin.panel":"f0bc1e12","area.form~pitch.form~route.filters~route.form":"57be4a9e","area.form":"09316a61","route.filters":"09316a61","route.form":"31d6cfe0","moderator.form":"076ea886","pitch.form":"207437e9","image.upload":"6669a1ca","login.form":"31d6cfe0","popup.service":"31d6cfe0","register.form":"31d6cfe0"}[t]+".css",o=c.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return e()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===r||l===o)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete n[t],m.parentNode.removeChild(m),a(i)},m.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(m);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}o[t]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/assets/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var m=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"049c":function(t,e){},"0613":function(t,e,a){"use strict";a("45fc");var r=a("2b0e"),n=a("2f62");function o(t){t.watch((function(t){return t.url}),(function(e,a){var r,n,o,i,s,c,u,l,d,m,f,p,h,g;(null===(r=e)||void 0===r?void 0:r.path)!==(null===(n=a)||void 0===n?void 0:n.path)&&(void 0!==(null===(o=e)||void 0===o?void 0:o.params.areaId)&&(null===(i=a)||void 0===i?void 0:i.params.areaId)!==(null===(s=e)||void 0===s?void 0:s.params.areaId)&&t.dispatch("area/fetch",null===(c=e)||void 0===c?void 0:c.params.areaId),void 0!==(null===(u=e)||void 0===u?void 0:u.params.imageId)&&(null===(l=a)||void 0===l?void 0:l.params.imageId)!==(null===(d=e)||void 0===d?void 0:d.params.imageId)&&t.dispatch("image/fetch",null===(m=e)||void 0===m?void 0:m.params.imageId),void 0!==(null===(f=e)||void 0===f?void 0:f.params.routeId)&&(null===(p=a)||void 0===p?void 0:p.params.routeId)!==(null===(h=e)||void 0===h?void 0:h.params.routeId)&&t.dispatch("route/fetch",null===(g=e)||void 0===g?void 0:g.params.routeId))}),{immediate:!0})}var i=function(t){o(t)},s=a("f33f");r["a"].use(n["a"]);var c=new n["a"].Store({state:{drawing:!1},mutations:{setDrawingMode:function(t,e){t.drawing=e}},getters:{tags:function(t,e){var a;return(null===(a=t.url)||void 0===a?void 0:a.params.imageId)?e["image/tags"]:e["area/tags"]},openImage:function(t){var e;return null===(e=t.url)||void 0===e?void 0:e.params.imageId},hasTag:function(t,e){return function(t){return e.tags.some((function(e){return t===e.tagged_type+e.tagged_id}))}}},modules:s["default"]});i(c);e["a"]=c},"0670":function(t,e,a){"use strict";var r=a("2b0e"),n=a("f309");r["a"].use(n["a"]),e["a"]=new n["a"]({icons:{iconfont:"md"}})},"0790":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-navigation-drawer",{staticStyle:{"z-index":"2000"},attrs:{app:"",width:"400",id:"drawerLeft","fill-height":""},model:{value:t.drawerLeft,callback:function(e){t.drawerLeft=e},expression:"drawerLeft"}},[a("router-view")],1),a("v-app-bar",{attrs:{app:"","clipped-right":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawerLeft=!t.drawerLeft}}}),a("router-link",{attrs:{to:"/"}},[a("v-toolbar-title",{domProps:{textContent:t._s(t.title)}})],1),a("v-spacer"),a("v-btn",{attrs:{icon:"",title:"Admin area"},on:{click:function(e){return e.stopPropagation(),t.$router.push("/admin")}}},[a("v-icon",[t._v("build")])],1),t.checkAuth()?a("v-menu",{staticStyle:{"z-index":"1000"},attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",n,!1),r),[a("v-icon",[t._v("perm_identity")])],1)]}}],null,!1,3011971915)},[a("v-list",[a("v-list-item",[a("v-list-item-title",[t._v(t._s(t.getUserName()))])],1),a("v-divider"),a("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.logout()}}},[a("v-list-item-title",[t._v("Logout")])],1)],1)],1):a("v-btn",{attrs:{text:"",title:"Sign in"},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"login-form",params:null})}}},[t._v(" Sign in ")])],1),a("v-navigation-drawer",{staticStyle:{"z-index":"2000"},attrs:{right:"",clipped:"",app:"",width:"400","disable-resize-watcher":""},model:{value:t.drawerRight,callback:function(e){t.drawerRight=e},expression:"drawerRight"}},[a("form-layout")],1)],1)},n=[],o=(a("b0c0"),a("5530")),i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[a("v-toolbar",{attrs:{flat:"",dense:""}},[a("v-spacer"),t.formComponent?a("v-btn",{attrs:{text:"",icon:"",title:"Close"},on:{click:function(e){return e.stopPropagation(),t.closeForm(e)}}},[a("v-icon",[t._v("close")])],1):t._e()],1),a(t.formComponent,t._b({tag:"component"},"component",t.formParams,!1))],1)},c=[],u=(a("d3b7"),a("2f62")),l={computed:Object(o["a"])({},Object(u["e"])({formComponent:function(t){return t.form.component},formParams:function(t){return t.form.params}})),methods:Object(o["a"])({},Object(u["b"])({closeForm:"form/close"})),components:{"area-form":function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("area.form~pitch.form~route.filters~route.form"),a.e("area.form")]).then(a.bind(null,"732e"))},"route-form":function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("area.form~pitch.form~route.filters~route.form"),a.e("route.form")]).then(a.bind(null,"c886"))},"image-upload-form":function(){return a.e("image.upload").then(a.bind(null,"cf0c"))},"route-filters-form":function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("area.form~pitch.form~route.filters~route.form"),a.e("route.filters")]).then(a.bind(null,"45c7"))},"pitch-form":function(){return Promise.all([a.e("area.form~pitch.form~route.filters~route.form"),a.e("pitch.form")]).then(a.bind(null,"a94b"))},"moderator-form":function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("moderator.form")]).then(a.bind(null,"1a3c"))},"login-form":function(){return a.e("login.form").then(a.bind(null,"83c9"))},"register-form":function(){return a.e("register.form").then(a.bind(null,"f102"))}}},d=l,m=a("2877"),f=a("6544"),p=a.n(f),h=a("8336"),g=a("b0af"),v=a("132d"),b=a("2fa4"),y=a("71d9"),I=Object(m["a"])(d,s,c,!1,null,null,null),_=I.exports;p()(I,{VBtn:h["a"],VCard:g["a"],VIcon:v["a"],VSpacer:b["a"],VToolbar:y["a"]});var k=i["a"].extend({computed:{drawerLeft:{get:function(){return this.$store.state.drawers.left},set:function(t){this.$store.commit("drawers/setLeft",t)}},drawerRight:{get:function(){return this.$store.state.drawers.right},set:function(t){this.$store.commit("drawers/setRight",t)}},title:function(){if(this.$store.state.image){var t=this.$store.state.image&&this.$store.state.image.captured;if(t&&t.name)return t.name}return"Climbers guide"}},methods:Object(o["a"])({},Object(u["b"])({openForm:"form/open"}),{},Object(u["c"])({checkAuth:"auth/check",getUserName:"auth/username"}),{},Object(u["d"])({logout:"auth/logout"})),components:{FormLayout:_}}),w=k,V=(a("facc"),a("40dc")),x=a("5bc1"),O=a("ce7e"),L=a("8860"),T=a("da13"),j=a("5d23"),A=a("e449"),M=a("f774"),S=a("2a7f"),E=Object(m["a"])(w,r,n,!1,null,null,null);e["a"]=E.exports;p()(E,{VAppBar:V["a"],VAppBarNavIcon:x["a"],VBtn:h["a"],VDivider:O["a"],VIcon:v["a"],VList:L["a"],VListItem:T["a"],VListItemTitle:j["c"],VMenu:A["a"],VNavigationDrawer:M["a"],VSpacer:b["a"],VToolbarTitle:S["a"]})},"07a8":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));a("d81d"),a("13d5");var r=a("ade3"),n=a("5530");function o(t,e){return Object(n["a"])({},t,{},e.reduce((function(e,a){var o;return Object(n["a"])({},e,Object(r["a"])({},a,Array.isArray(t[a])?t[a].map((function(t){return t.id})):null===(o=t[a])||void 0===o?void 0:o.id))}),{}))}},"08a6":function(t,e,a){},"0d59":function(t,e,a){"use strict";var r=a("74f5");a.o(r,"Role")&&a.d(e,"Role",(function(){return r["Role"]}));var n=a("049c");a.o(n,"Role")&&a.d(e,"Role",(function(){return n["Role"]}));var o=a("8ab4");a.o(o,"Role")&&a.d(e,"Role",(function(){return o["Role"]}));var i=a("78da");a.o(i,"Role")&&a.d(e,"Role",(function(){return i["Role"]}));var s=a("d16d");a.o(s,"Role")&&a.d(e,"Role",(function(){return s["Role"]}));var c=a("19a3");a.o(c,"Role")&&a.d(e,"Role",(function(){return c["Role"]}));var u=a("3a3d");a.d(e,"Role",(function(){return u["a"]}));a("3125"),a("ff3b")},1344:function(t,e,a){"use strict";var r=a("5586"),n=a.n(r);n.a},"151c":function(t,e,a){"use strict";a.r(e);var r=a("5530"),n=a("70c7"),o=!0,i={namespaced:o,state:{byIds:{},allIds:[]},mutations:Object(r["a"])({},n["a"]),getters:{find:function(t){return function(e){return t.byIds[e]}}}};e["default"]=i},"158d":function(t,e,a){"use strict";a.r(e);a("4160"),a("a15b"),a("fb6a"),a("d3b7"),a("159b");var r=a("5530"),n=a("842b"),o=a("07a8");a("caad"),a("b0c0"),a("2532"),a("2ca0");function i(t,e){if(e.path&&!t.path.startsWith(e.path))return!1;if(e.length&&(t.length<e.length[0]||t.length>e.length[1]))return!1;for(var a in t.grades){var r=t.grades[a][0],n=t.grades[a][1];if(e.gradeTypes&&e.gradeTypes.includes(r))return!1;if(e.gradeWeights&&e.gradeWeights[r]&&(e.gradeWeights[r][0]<=n||e.gradeWeights[r][1]>=n))return!1}return!(e.query&&!t.name.toLocaleLowerCase().includes(e.query.toLocaleLowerCase()))}var s=a("70c7"),c=!0,u={namespaced:c,state:{byIds:{},allIds:[],loading:!1,filters:{},hasMore:!0},mutations:Object(r["a"])({},s["a"],{setFilters:function(t,e){t.filters=Object(r["a"])({},e,{query:t.filters.query||null})},setQueryString:function(t,e){t.filters=Object(r["a"])({},t.filters,{query:e})},setHasMore:function(t,e){t.hasMore=e},appendPitch:function(t,e){t.byIds[e.routeId].pitches.push(e.pitchId)}}),actions:{storeRelation:function(t,e){var a=t.commit,r=e.items,n=e.commitFun,o=e.root,i=void 0!==o&&o;for(var s in r)a(n,r[s],{root:i})},normalizeData:function(t,e){var a=t.commit,r=t.dispatch;a("add",Object(o["a"])(e,["ancestors","pitches","images"])),e.pitches&&r("storeRelation",{items:e.pitches,commitFun:"pitch/add",root:!0}),e.ancestors&&r("storeRelation",{items:e.ancestors,commitFun:"area/add",root:!0}),e.images&&r("storeRelation",{items:e.images,commitFun:"image/add",root:!0})},fetch:function(t,e){var a,r=t.state,o=t.commit,i=t.dispatch;(null===(a=r.byIds[e])||void 0===a?void 0:a.fullyLoaded)?setTimeout((function(){o("drawers/setLeft",!0,{root:!0})}),1e3):(o("snackbar/show","Loading route...",{root:!0}),o("loading",!0),n["b"].get("route/"+e).then((function(t){var e=t.data;e.fullyLoaded=!0,i("normalizeData",e),o("snackbar/success","Done!",{root:!0}),i("area/fetch",e.area_id,{root:!0})})).finally((function(){o("loading",!1)})))},loadFiltered:function(t){var e=t.commit,a=t.getters,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e("loading",!0),r&&e("setFilters",r);var o=a.filters;o.offset=a.getFiltered.length,e("snackbar/show","Loading routes ...",{root:!0}),n["b"].get("route",{params:o}).then((function(t){var a=t.data;e("setHasMore",10===a.length),a.forEach((function(t){e("add",t)})),e("snackbar/success","Done!",{root:!0})})).finally((function(){e("loading",!1)}))}},getters:{get:function(t,e,a){var r;return(null===(r=a.url)||void 0===r?void 0:r.params.routeId)&&t.byIds[a.url.params.routeId]},filters:function(t,e,a,n){var o=n["area/get"],i=Object(r["a"])({},t.filters);if(o&&o.ancestors){var s=o.ancestors.slice();s.push(o.id),i.path=s.join(".")}return i},getFiltered:function(t,e){var a=e.filters,r=[];for(var n in t.byIds){var o=t.byIds[n];i(o,a)&&r.push(o)}return r},find:function(t){return function(e){return t.byIds[e]}}}};e["default"]=u},"19a3":function(t,e){},"1f54":function(t,e,a){"use strict";var r=a("5f68"),n=a("e11e"),o=new n["Icon"]({iconUrl:Object(r["a"])('<path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/><path d="M0 0h24v24H0z" fill="none"/>'),iconSize:[20,32],iconAnchor:[10,24]});n["Marker"].prototype.options.icon=o},"2b56":function(t,e,a){"use strict";var r=a("4548"),n=a.n(r);n.a},"2b8b":function(t,e,a){},3125:function(t,e){},"31ac":function(t,e,a){"use strict";a.r(e);a("c740"),a("4160"),a("fb6a"),a("45fc"),a("a434"),a("d3b7"),a("159b");var r=a("5530"),n=a("842b"),o=a("07a8"),i=a("70c7"),s=!0,c=["ancestors","areas","images","trails","moderators"],u={namespaced:s,state:{byIds:{},allIds:[],loading:!0,rootIds:[]},mutations:Object(r["a"])({},i["a"],{appendArea:function(t,e){var a=e.parentId,r=e.areaId;a?t.byIds[a].areas.push(r):t.rootIds.push(r)},appendRoute:function(t,e){t.byIds[e.areaId].routes.push(e.routeId)},appendImage:function(t,e){t.byIds[e.id].images.push(e.imageId)},removeArea:function(t,e){var a,r=e.parentId,n=e.areaId,o=t.byIds[r],i=o&&(null===(a=o.areas)||void 0===a?void 0:a.findIndex((function(t){return t===n})));i&&o.areas.splice(i,1)},addModerator:function(t,e){var a=e.area,r=e.moderator,n=t.byIds[a.id];n.moderators.push(r.id)},removeModerator:function(t,e){var a=e.area,r=e.moderator,n=t.byIds[a.id],o=n.moderators.findIndex((function(t){return t===r.id}));n.moderators.splice(o,1)}}),actions:{storeRelation:function(t,e){var a=t.commit,r=e.items,n=e.fun,o=e.root,i=void 0!==o&&o;for(var s in r)a(n,r[s],{root:i})},normalizeData:function(t,e){var a=t.commit,r=t.dispatch;e.routes&&r("storeRelation",{items:e.routes,fun:"route/add",root:!0}),delete e.routes,a("add",Object(o["a"])(e,c)),e.areas&&r("storeRelation",{items:e.areas,fun:"add"}),e.ancestors&&r("storeRelation",{items:e.ancestors,fun:"add"}),e.trails&&r("storeRelation",{items:e.trails,fun:"trail/add",root:!0}),e.images&&r("storeRelation",{items:e.images,fun:"image/add",root:!0}),e.moderators&&r("storeRelation",{items:e.moderators,fun:"user/add",root:!0})},fetch:function(t,e){var a,r=t.state,o=t.commit,i=t.dispatch,s=t.rootGetters;if(null===(a=r.byIds[e])||void 0===a?void 0:a.fullyLoaded)setTimeout((function(){o("drawers/setLeft",!0,{root:!0})}),1e3);else{o("snackbar/show","Loading area...",{root:!0}),o("loading",!0);var c=s["route/filters"];n["b"].get("area/"+e,{params:c}).then((function(t){var e=t.data;e.fullyLoaded=!0,i("normalizeData",e),o("snackbar/success","Done!",{root:!0}),o("drawers/setLeft",!0,{root:!0})})).finally((function(){o("loading",!1)}))}},fetchRootAreas:function(t){var e=t.state,a=t.commit;0===e.rootIds.length&&(a("loading",!0),a("snackbar/show","Loading countries!",{root:!0}),n["b"].get("area").then((function(t){var e=t.data;e.areas.forEach((function(t){a("add",t),a("appendArea",{areaId:t.id,parentId:null})})),e.routes.forEach((function(t){a("route/add",t,{root:!0})})),a("snackbar/success","Done!",{root:!0}),a("drawers/setLeft",!0,{root:!0})})).finally((function(){a("loading",!1)})))}},getters:{get:function(t,e,a,r){var n,o,i=(null===(n=a.url)||void 0===n?void 0:n.params.areaId)||(null===(o=r["route/get"])||void 0===o?void 0:o.area_id);return i&&t.byIds[i]},find:function(t){return function(e){return t.byIds[e]}},tags:function(t,e,a,r){var n=e.get,o=[];return n?(n.map_tag?o.push(n.map_tag):n.ancestors&&n.ancestors.slice().reverse().some((function(e){var a;return!!(null===(a=t.byIds[e])||void 0===a?void 0:a.map_tag)&&(o.push(t.byIds[e].map_tag),!0)})),n.areas&&n.areas.forEach((function(e){var a;(null===(a=t.byIds[e])||void 0===a?void 0:a.map_tag)&&o.push(t.byIds[e].map_tag)})),r["route/getFiltered"].forEach((function(t){t.map_tag&&o.push(t.map_tag)})),n.trails&&n.trails.forEach((function(t){var e,r;(null===(r=null===(e=a.trail)||void 0===e?void 0:e.byIds[t])||void 0===r?void 0:r.map_tag)&&o.push(a.trail.byIds[t].map_tag)})),n.images&&n.images.forEach((function(t){var e,r;(null===(r=null===(e=a.image)||void 0===e?void 0:e.byIds[t])||void 0===r?void 0:r.map_tag)&&o.push(a.image.byIds[t].map_tag)})),o):(t.rootIds.forEach((function(e){var a;(null===(a=t.byIds[e])||void 0===a?void 0:a.map_tag)&&o.push(t.byIds[e].map_tag)})),o)}}};e["default"]=u},"31ee":function(t,e,a){"use strict";a.r(e);var r=!0,n={namespaced:r,state:{component:null,params:null},mutations:{open:function(t,e){t.component=e.component,t.params=e.params},close:function(t){t.component=null,t.params=null}},actions:{open:function(t,e){var a=t.commit,r=t.rootGetters;a("drawers/setLeft",!1,{root:!0}),a("drawers/setRight",!0,{root:!0}),"login-form"!==e.component&&"register-form"!==e.component?r["auth/check"]?a("open",e):(a("open",{component:"login-form",params:null}),a("snackbar/show","You have to have an active account<br>and be logged in to perform this action",{root:!0})):a("open",e)},close:function(t){var e=t.commit;e("drawers/setRight",!1,{root:!0}),e("close"),e("drawers/setLeft",!0,{root:!0})}}};e["default"]=n},"320e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.drawing?t._e():a("div",{staticStyle:{display:"inline"}},[t.edit?a("v-btn",{attrs:{text:"",icon:"",title:"Edit tag"},on:{click:function(e){return e.stopPropagation(),t.editTag(e)}}},[a("v-icon",[t._v("location_on")])],1):a("v-btn",{attrs:{text:"",icon:"",title:"Add tag"},on:{click:function(e){return e.stopPropagation(),t.createTag(e)}}},[a("v-icon",[t._v("location_on")])],1)],1)},n=[],o=a("2b0e"),i=a("cb8b"),s=o["a"].extend({props:{type:String,item:Object},computed:{drawing:function(){return this.$store.state.drawing},edit:function(){return this.$store.getters.hasTag(this.type+this.item.id)}},methods:{createTag:function(){var t=this;this.$store.dispatch("auth/authorize",{item:this.item,callback:function(){i["a"].createTag(t.type,t.item)}})},editTag:function(){var t=this;this.$store.dispatch("auth/authorize",{item:this.item,callback:function(){i["a"].editTag(t.type,t.item)}})}}}),c=s,u=a("2877"),l=a("6544"),d=a.n(l),m=a("8336"),f=a("132d"),p=Object(u["a"])(c,r,n,!1,null,null,null);e["a"]=p.exports;d()(p,{VBtn:m["a"],VIcon:f["a"]})},3753:function(t,e,a){"use strict";a.r(e);var r=!0,n={namespaced:r,state:{text:"",status:"show",show:!1},mutations:{show:function(t,e){t.text=e,t.status="show",t.show=!0},error:function(t,e){t.text=e,t.status="error",t.show=!0},success:function(t,e){t.text=e,t.status="success",t.show=!0},close:function(t){t.show=!1},throwError:function(t,e){switch(e){case 400:t.text="Failed login attempt.";break;case 401:t.text="You have to have an active account<br>and be logged in to perform this action.";break;case 403:t.text="You don't have permissions to perform this action.";break;case 404:t.text="Requested resource wasn't found.";break;case 500:t.text="Internal server error! Will look into it :).";break;case 409:t.text="Seems this email is already taken.";break;default:t.text="Well this is awkward :/"}t.status="error",t.show=!0}}};e["default"]=n},"3a3d":function(t,e,a){"use strict";var r;a.d(e,"a",(function(){return r})),function(t){t[t["ADMIN"]=1]="ADMIN",t[t["USER"]=2]="USER"}(r||(r={}))},"3a62":function(t,e,a){},"3e98":function(t,e,a){"use strict";var r=a("2b8b"),n=a.n(r);n.a},"3f9b":function(t,e,a){var r={"./activity.ts":"970d","./adoption.ts":"7965","./area.ts":"31ac","./auth.ts":"cdd0","./drawers.ts":"a206","./form.ts":"31ee","./highlight.ts":"65ec","./image.ts":"63f5","./index.ts":"f33f","./pitch.ts":"151c","./route.ts":"158d","./snackbar.ts":"3753","./trail.ts":"7b93","./user.ts":"9dba"};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id="3f9b"},4548:function(t,e,a){},"4b95":function(t,e,a){"use strict";var r=a("d4e5"),n=a.n(r);n.a},5586:function(t,e,a){},"572f":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{staticStyle:{"z-index":"3000"},attrs:{color:t.state.status,timeout:t.timeout,bottom:""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("div",{domProps:{innerHTML:t._s(t.state.text)}}),a("v-btn",{attrs:{icon:"",text:""},on:{click:function(e){t.show=!1}}},[a("v-icon",[t._v("close")])],1)],1)},n=[],o=a("2b0e"),i=o["a"].extend({computed:{state:function(){return this.$store.state.snackbar},timeout:function(){return 1e3+100*this.state.text.length},show:{get:function(){return this.$store.state.snackbar.show},set:function(){return this.$store.commit("snackbar/close")}}}}),s=i,c=a("2877"),u=a("6544"),l=a.n(u),d=a("8336"),m=a("132d"),f=a("2db4"),p=Object(c["a"])(s,r,n,!1,null,null,null);e["a"]=p.exports;l()(p,{VBtn:d["a"],VIcon:m["a"],VSnackbar:f["a"]})},"5d57":function(t,e,a){"use strict";a("7db0");e["a"]={orientation:{items:[{labelShort:"N",label:"North",value:0},{labelShort:"NE",label:"Northeast",value:45},{labelShort:"E",label:"East",value:90},{labelShort:"SE",label:"South-East",value:135},{labelShort:"S",label:"South",value:180},{labelShort:"SW",label:"South-West",value:225},{labelShort:"W",label:"West",value:270},{labelShort:"NW",label:"North-West",value:315}],getLabel:function(t){var e=this.items.find((function(e){var a=e.value-22.5,r=e.value+22.5;return a<t&&t<r}));return e?e.label:"Not set"}},area:["Country","Area","Mountain","Peak","Mountain side","Climbing site","Crag","Sector"],route:["Multipitch","Singlepitch","Waterfall","Boulder"]}},"5e4b":function(t,e,a){},"5f68":function(t,e,a){"use strict";function r(t){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="4 4 20 20">'+t+"</svg>"}function n(t){return"data:image/svg+xml;base64,"+btoa(r(t))}a.d(e,"a",(function(){return n}))},"63f5":function(t,e,a){"use strict";a.r(e);a("c740"),a("4160"),a("a434"),a("d3b7"),a("159b");var r=a("5530"),n=a("2b0e"),o=a("842b"),i=a("70c7"),s=!0,c={namespaced:s,state:{byIds:{},allIds:[],loading:!1},mutations:Object(r["a"])({},i["a"],{storeImageTag:function(t,e){var a=Object(r["a"])({},t.byIds[e.image_id]),o=a.tags.findIndex((function(t){return t.id===e.id}));-1!==o&&a.tags.splice(o,1),a.tags.push(e),n["a"].set(t.byIds,e.image_id,a)},removeImageTag:function(t,e){var a=e.imageId,o=e.tag,i=Object(r["a"])({},t.byIds[a]),s=i.tags.findIndex((function(t){return t.id===o.id}));-1!==s&&i.tags.splice(s,1),n["a"].set(t.byIds,a,i)}}),actions:{normalizeData:function(t,e){var a=t.commit;a(e.captured_type+"/add",e.captured,{root:!0}),delete e.captured,e.tags&&e.tags.forEach((function(t){a(t.tagged_type+"/add",t.tagged,{root:!0}),delete t.tagged})),e.routes&&e.routes.forEach((function(t){a("route/add",t,{root:!0})})),delete e.routes,a("add",e)},fetch:function(t,e){var a,r=t.state,n=t.commit,i=t.dispatch;(null===(a=r.byIds[e])||void 0===a?void 0:a.fullyLoaded)||(n("snackbar/show","Loading image...",{root:!0}),n("loading",!0),o["b"].get("image/"+e+"/tags").then((function(t){var e=t.data;e.fullyLoaded=!0,i("normalizeData",e),n("snackbar/success","Done!",{root:!0})})).finally((function(){n("loading",!1)})))},fetchAll:function(t){var e=t.commit;e("loading",!0),e("snackbar/show","Loading images!",{root:!0}),o["b"].get("getImages").then((function(t){var a=t.data;a.forEach((function(t){e("add",t)})),e("snackbar/success","Done!",{root:!0})})).finally((function(){e("loading",!1)}))}},getters:{get:function(t,e,a){var r;return(null===(r=a.url)||void 0===r?void 0:r.params.imageId)&&t.byIds[a.url.params.imageId]},find:function(t){return function(e){return t.byIds[e]}},tags:function(t,e){return e.get&&e.get.tags||[]},notReviewed:function(t){var e=[];return t.allIds.forEach((function(a){var r=t.byIds[a];r.reviewer_id||e.push(r)})),e}}};e["default"]=c},"65ec":function(t,e,a){"use strict";a.r(e);var r=!0,n={namespaced:r,state:{key:null},mutations:{set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.key=e}}};e["default"]=n},"70c7":function(t,e,a){"use strict";a("c740"),a("caad"),a("a434"),a("2532");var r=a("5530"),n=a("2b0e");e["a"]={loading:function(t,e){t.loading=e},add:function(t,e){var a=e;t.allIds.includes(e.id)?a=Object(r["a"])({},t.byIds[e.id],{},e):t.allIds.push(e.id),n["a"].set(t.byIds,a.id,a)},remove:function(t,e){var a=t.allIds.findIndex((function(t){return t===e.id}));-1!==a&&(n["a"].delete(t.byIds,e.id),t.allIds.splice(a,1))},storeMapTag:function(t,e){var a=Object(r["a"])({},t.byIds[e.tagged_id]);a.map_tag=e,t.byIds[e.tagged_id]=a},removeMapTag:function(t,e){var a=Object(r["a"])({},t.byIds[e]);a.map_tag=null,t.byIds[e]=a}}},"74f5":function(t,e){},"78da":function(t,e){},7965:function(t,e,a){"use strict";a.r(e);a("d81d"),a("ac1f"),a("1276");var r=a("5530"),n=a("842b"),o=!0,i={namespaced:o,state:{type:"",item:null},mutations:{set:function(t,e){var a=e.type,r=e.item;t.type=a,t.item=r},remove:function(t){t.type="",t.item=null}},actions:{setChild:function(t,e){var a=t.commit,r=t.rootGetters,n=t.dispatch;r["auth/check"]?r["auth/isAdmin"]?(a("set",e),a("snackbar/show","Moving "+e.type+" ... now go to the area you want to move it to",{root:!0})):a("snackbar/throwError",403,{root:!0}):(a("snackbar/throwError",401,{root:!0}),n("form/open",{component:"login-form",params:null},{root:!0}))},setParent:function(t,e){var a=t.state,o=t.commit;a.item&&n["b"].put(a.type+"/"+a.item.id+"/move",{id:e}).then((function(t){var n=t.data,i=n+"",s=i.split(".").map((function(t){return parseInt(t)}));"route"===a.type?a.item&&o("route/add",Object(r["a"])({},a.item,{ancestors:s,path:i}),{root:!0}):(a.item&&o("area/removeArea",{parentId:a.item.parent_id,areaId:a.item.id},{root:!0}),a.item&&o("area/appendArea",{parentId:e,areaId:a.item.id},{root:!0}),a.item&&o("area/add",Object(r["a"])({},a.item,{path:i,ancestors:s}),{root:!0})),o("remove"),o("snackbar/success","Item was moved to the new area",{root:!0})}))}}};e["default"]=i},"7b93":function(t,e,a){"use strict";a.r(e);var r=a("5530"),n=a("70c7"),o=!0,i={namespaced:o,state:{byIds:{},allIds:[]},mutations:Object(r["a"])({},n["a"]),actions:{normalizeData:function(t,e){var a=t.commit;a("add",e)}},getters:{find:function(t){return function(e){return t.byIds[e]}}}};e["default"]=i},"842b":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("d3b7"),a("bf19");var r=a("bc3a"),n=a.n(r),o=a("0613"),i=a("afbc"),s="api/",c=n.a.create({baseURL:s});c.interceptors.request.use((function(t){var e=o["a"].state.auth&&o["a"].state.auth.token;return e&&(t.headers.Authorization="Bearer "+e),t})),c.interceptors.response.use((function(t){return t}),(function(t){return console.log(t.toJSON()),t.response&&(o["a"].commit("snackbar/throwError",t.response.status),404===t.response.status&&i["a"].push("/")),Promise.reject(t)})),e["b"]=c},"8ab4":function(t,e){},"8fad":function(t,e,a){"use strict";var r=a("5e4b"),n=a.n(r);n.a},"970d":function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("159b");var r=a("5530"),n=a("842b"),o=a("2b0e"),i=a("70c7"),s=a("07a8"),c=!0,u={namespaced:c,state:{byIds:{},allIds:[],loading:!1},mutations:Object(r["a"])({},i["a"],{resolveActivity:function(t,e){var a=Object(r["a"])({},t.byIds[e],{status:!0});o["a"].set(t.byIds,e,a)}}),actions:{normalizeData:function(t,e){var a=t.commit;a("add",Object(s["a"])(e,["subject","causer"])),a("add",e),a("user/add",e.causer,{root:!0})},fetchNotApproved:function(t){var e=t.commit,a=t.dispatch;e("loading",!0),e("snackbar/show","Loading activities!",{root:!0}),n["b"].get("getNotApprovedActivities").then((function(t){var r=t.data;r.forEach((function(t){a("normalizeData",t)})),e("snackbar/success","Done!",{root:!0})})).finally((function(){e("loading",!1)}))},approveActivity:function(t,e){var a=t.commit;a("snackbar/show","Approving activity ...",{root:!0}),n["b"].get("approveActivity/"+e).then((function(){a("resolveActivity",e),a("snackbar/success","Activity approved",{root:!0})})).finally((function(){a("loading",!1)}))},revertActivity:function(t,e){var a=t.commit;a("snackbar/show","Reverting activity ...",{root:!0}),n["b"].get("revertActivity/"+e).then((function(){a("resolveActivity",e),a("snackbar/success","Activity reverted",{root:!0})})).finally((function(){a("loading",!1)}))}},getters:{find:function(t){return function(e){return t.byIds[e]}},notApproved:function(t){var e=[];return t.allIds.forEach((function(a){null===t.byIds[a].status&&e.push(t.byIds[a])})),e}}};e["default"]=u},"9dba":function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("159b");var r=a("5530"),n=a("842b"),o=a("70c7"),i=!0,s={namespaced:i,state:{byIds:{},allIds:[],loading:!1},mutations:Object(r["a"])({},o["a"]),actions:{normalizeData:function(t,e){var a=t.commit;a("add",e)},fetchAll:function(t){var e=t.commit;e("loading",!0),e("snackbar/show","Loading users!",{root:!0}),n["b"].get("user").then((function(t){var a=t.data;a.forEach((function(t){e("add",t)})),e("snackbar/success","Done!",{root:!0})})).finally((function(){e("loading",!1)}))}},getters:{find:function(t){return function(e){return t.byIds[e]}}}};e["default"]=s},a206:function(t,e,a){"use strict";a.r(e);var r=!0,n={namespaced:r,state:{left:!1,right:!1},mutations:{setLeft:function(t,e){t.left=e},setRight:function(t,e){t.right=e}}};e["default"]=n},a96b:function(t,e,a){"use strict";a("4de4"),a("4160"),a("caad"),a("fb6a"),a("159b");var r=a("d4ec"),n=a("bee2"),o=function(){function t(){Object(r["a"])(this,t),this.types=[{id:0,type:"combined",name:"Combined climbing",charts:["fr_combined","uiaa"]},{id:1,type:"mix",name:"Mix climbing",charts:["mix"]},{id:2,type:"alpine",name:"Alpine climbing",charts:["alpine"]},{id:3,type:"tehnical",name:"Tehnical climbing",charts:["tehnical"]},{id:4,type:"required",name:"Required grade",charts:["fr","uiaa","ydr"]},{id:5,type:"ice",name:"Ice climbing",charts:["ice"]},{id:6,type:"incline",name:"Incline",charts:["incline"]},{id:7,type:"avg_incline",name:"Average incline",charts:["incline"]},{id:8,type:"rng_from_incline",name:"Minimum incline",charts:["incline"]},{id:9,type:"rng_to_incline",name:"Maximum incline",charts:["incline"]},{id:10,type:"max",name:"Free climbing grade",charts:["fr","uiaa","ydr"]},{id:11,type:"avg",name:" Average route grade",charts:["fr","uiaa","ydr"]}],this.charts={fr:["-","1","1","1","2","2","3","3","4a","4a/a+","4a+","4a+/b","4b","4b/b+","4b+","4b+/c","4c","4c/c+","4c+","4c+/5a","5a","5a/a+","5a+","5a+/b","5b","5b/b+","5b+","5b+/c","5c","5c/c+","5c+","5c+/6a","6a","6a/a+","6a+","6a+/b","6b","6b/b+","6b+","6b+/c","6c","6c/c+","6c+","6c+/7a","7a","7a/a+","7a+","7a+/b","7b","7b/b+","7b+","7b+/c","7c","7c/c+","7c+","7c+/8a","8a","8a/a+","8a+","8a+/b","8b","8b/b+","8b+","8b+/c","8c","8c/c+","8c+","8c+/9a","9a","9a/a+","9a+","9a+/b","9b"],uiaa:["-","I","I-II","II","II-III","III","III-IV","IV-","IV","IV+","IV+","IV-V","IV-V","V-","V-","V","V","V","V+","V+","V+","V-VI","VI-","VI-","VI-","VI","VI","VI","VI","VI+","VI+","VI+","VI-VII","VII-","VII-","VII-","VII","VII","VII+","VII+","VII-VIII","VIII-","VIII-","VIII","VIII","VIII","VIII+","VIII+","VIII-IX","IX-","IX-","IX--IX","IX","IX","IX+","IX+","IX-X","X-","X-","X--X","X","X","X-X+","X+","X-XI","XI-","XI--XI","XI","XI-XI+","XI+","XI+","XI-XII","XII-"],ydr:["-","5.1","5.1","5.2","5.3","5.3","5.4","5.4","5.5","5.5","5.6","5.6","5.6","5.6","5.6","5.7","5.7","5.7","5.7","5.8","5.8","5.8","5.8","5.9","5.9","5.9","5.10a","5.10a","5.10a","5.10a","5.10b","5.10b","5.10b","5.10b","5.10c","5.10c","5.10d","5.10d","5.11a","5.11a","5.11b","5.11c","5.11c","5.11d","5.11d","5.12a","5.12a","5.12b","5.12b","5.12c","5.12c","5.12d","5.12d","5.13a","5.13a","5.13b","5.13b","5.13c","5.13c","5.13d","5.13d","5.14a","5.14a","5.14b","5.14b","5.14c","5.14c","5.14d","5.14d","5.15a","5.15a","5.15b","5.15b"],tehnical:["-","A0","A1","A2","A3","A4","A5"],incline:["-","10","15","20","25","30","35","40","45","50","55","60","65","70","75","80","85","90"],ice:["-","WI1","WI2","WI3","WI3+","WI4-","WI4","WI4+","WI5-","WI5","WI5+","WI6-","WI6","WI6+","WI7-","WI7","WI7+","WI8-","WI8","WI8+"],alpine:["-","AI1","AI2","AI3","AI3+","AI4-","AI4","AI4+","AI5-","AI5","AI5+","AI6-","AI6","AI6+","AI7-","AI7","AI7+","AI8-","AI8","AI8+"],mix:["-","M1","M2","M3","M4","M5-","M5","M5+","M6-","M6","M6+","M7-","M7","M7+","M8-","M8","M8+","M9-","M9","M9+","M10-","M10","M10+","M11-","M11","M11+","M12-","M12","M12+","M13-","M13","M13+"],fr_combined:["-","F-","F-","F","F+","PD-","PD","PD+","AD-","AD","AD+","D-","D","D+","TD-","TD","TD+","ED-","ED","ED+","ABO-","ABO","ABO+"]}}return Object(n["a"])(t,[{key:"getGradeValue",value:function(t,e){return this.charts[this.types[t].charts[0]][e]}},{key:"getGradesFor",value:function(t){if(t=t||0,1===t){var e=[0,7,11];return this.types.filter((function(t){return!e.includes(t.id)}))}return this.types}},{key:"forge",value:function(t){t=t||[];var e={},a="";return t.forEach((function(t){e[t[0]]=t[1]})),a=0 in e?this.getGradeValue(0,e[0])+" ":"",a+=1 in e?this.getGradeValue(1,e[1]):"",""!==a&&" "!==a.slice(-1)&&10 in e&&(a+=","),a+=10 in e?this.getGradeValue(10,e[10]):"",3 in e&&4 in e?a+="("+this.getGradeValue(4,e[4])+", "+this.getGradeValue(3,e[3])+")":3 in e?a+="("+this.getGradeValue(3,e[3])+")":4 in e&&(a+="("+this.getGradeValue(4,e[4])+")"),a+=11 in e?"/"+this.getGradeValue(11,e[11]):"",a+=5 in e?","+this.getGradeValue(5,e[5]):"",a+=2 in e?","+this.getGradeValue(2,e[2]):"",a+=6 in e?","+this.getGradeValue(6,e[6])+"°":"",a+=7 in e?"/"+this.getGradeValue(7,e[7])+"°":"",8 in e&&9 in e&&(a+=","+this.getGradeValue(8,e[8])+"°-"+this.getGradeValue(9,e[9])+"°"),","===a[0]&&(a=a.slice(1)),"("===a[0]&&")"===a[a.length-1]&&(a=a.slice(1,a.length-1)),a}}]),t}(),i=new o;e["a"]=i},afbc:function(t,e,a){"use strict";a.d(e,"b",(function(){return va}));a("d3b7");var r=a("5530"),n=a("2b0e"),o=a("8c4f"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("nav-bar"),a("v-content",[a("drawing-actionbar"),a("router-view",{attrs:{name:"map"}})],1),a("notification-snackbar")],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{absolute:"",timeout:0,top:""},model:{value:t.drawing,callback:function(e){t.drawing=e},expression:"drawing"}},[a("v-btn",{attrs:{text:""},on:{click:t.save}},[t._v(" Save ")]),a("v-btn",{attrs:{text:""},on:{click:t.discard}},[t._v(" Discard ")])],1)},u=[],l=a("2f62"),d=a("cb8b"),m={computed:Object(r["a"])({},Object(l["e"])(["drawing"])),methods:{save:function(){d["a"].storeTag()},discard:function(){d["a"].discardLayer()}}},f=m,p=a("2877"),h=a("6544"),g=a.n(h),v=a("8336"),b=a("2db4"),y=Object(p["a"])(f,c,u,!1,null,null,null),I=y.exports;g()(y,{VBtn:v["a"],VSnackbar:b["a"]});var _=a("572f"),k=a("0790"),w=(a("1f54"),n["a"].extend({components:{DrawingActionbar:I,NavBar:k["a"],NotificationSnackbar:_["a"]}})),V=w,x=(a("2b56"),a("7496")),O=a("a75b"),L=Object(p["a"])(V,i,s,!1,null,null,null),T=L.exports;g()(L,{VApp:x["a"],VContent:O["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Countries ")]),a("v-btn",{attrs:{title:"Add country",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"area-form",params:{parent:null}})}}},[a("v-icon",[t._v("add")])],1),a("area-list",{attrs:{areaIds:t.areaIds}})],1)},A=[],M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list",t._l(t.areas,(function(t){return a("area-list-item",{key:t.id,attrs:{area:t}})})),1)},S=[],E=(a("4160"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{class:{area_list_hover:t.highlight,area_list:!0},on:{click:function(e){return e.preventDefault(),t.link()}},nativeOn:{mouseenter:function(e){return t.onMouseOver()},mouseleave:function(e){return t.onMouseOut()}}},[a("v-list-item-icon",{attrs:{size:"100"}},[a("v-chip",[t._v(t._s(t.typeName))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.area.name))])],1),a("v-list-item-action",[a("tag-control",{attrs:{type:"area",item:t.area}})],1)],1)}),C=[],D=a("5d57"),$=a("320e"),P={props:["area"],computed:{key:function(){return"area"+this.area.id},highlight:function(){return this.$store.state.highlight.key===this.key},typeName:function(){return D["a"].area[this.area.type_id]}},methods:{link:function(){this.onMouseOut(),this.$router.push(va("area",this.area.id))},onMouseOver:function(){this.$store.commit("highlight/set",this.key)},onMouseOut:function(){this.$store.commit("highlight/set",null)}},components:{TagControl:$["a"]}},R=P,F=(a("8fad"),a("cc20")),B=a("da13"),z=a("1800"),W=a("5d23"),N=a("34c3"),X=Object(p["a"])(R,E,C,!1,null,null,null),G=X.exports;g()(X,{VChip:F["a"],VListItem:B["a"],VListItemAction:z["a"],VListItemContent:W["a"],VListItemIcon:N["a"],VListItemTitle:W["c"]});var q={props:{areaIds:Array},components:{AreaListItem:G},computed:{areas:function(){var t=this,e=[];return this.areaIds.forEach((function(a){var r=t.$store.state.area.byIds[a];r&&e.push(r)})),e}}},U=q,H=a("8860"),Q=Object(p["a"])(U,M,S,!1,null,null,null),J=Q.exports;g()(Q,{VList:H["a"]});var Z={computed:Object(r["a"])({},Object(l["e"])({areaIds:function(t){return t.area.rootIds}})),created:function(){this.$store.dispatch("area/fetchRootAreas")},methods:Object(r["a"])({},Object(l["b"])({openForm:"form/open"})),components:{AreaList:J}},K=Z,Y=a("132d"),tt=Object(p["a"])(K,j,A,!1,null,null,null),et=tt.exports;g()(tt,{VBtn:v["a"],VIcon:Y["a"]});var at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("details-loading"):a("details-layout",{attrs:{item:t.area,"ancestor-ids":t.area.ancestors,type:"area"}},[a("template",{slot:"item-details"},[a("v-btn",{attrs:{text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"area-form",params:{area:t.area,parent:t.parent}})}}},[a("v-icon",[t._v("edit")])],1),t.canAdopt?a("v-btn",{attrs:{text:"",icon:"",title:"Move item into this area"},on:{click:function(e){return e.stopPropagation(),t.setAdoptingParent(t.area.id)}}},[a("v-icon",[t._v("pin_drop")])],1):t._e(),a("v-btn",{attrs:{text:"",icon:"",title:"Move this area to another area"},on:{click:function(e){return e.stopPropagation(),t.setChildForAdoption({type:"area",item:t.area})}}},[a("v-icon",[t._v("import_export")])],1),a("v-btn",{attrs:{text:"",icon:"",title:"Add a moderator for this area"},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"moderator-form",params:{area:t.area}})}}},[a("v-icon",[t._v("person_add")])],1),a("tag-control",{attrs:{type:"area",item:t.area}}),a("delete-button",{attrs:{type:"area",item:t.area,"return-back":""}}),t.area.altitude[0]||t.area.altitude[1]?a("v-layout",{attrs:{row:""}},[a("v-flex",[a("strong",[t._v("Altitude:")])]),a("v-flex",[t._v(t._s(t.area.altitude[0]+"m - "+t.area.altitude[1]+"m"))])],1):t._e(),a("v-divider"),a("v-layout",{attrs:{row:""}},[a("v-flex",[a("strong",[t._v("Orientation:")])]),a("v-flex",[t._v(t._s(t.orientation))])],1),a("v-divider"),a("v-layout",{staticStyle:{"font-weight":"bold"},attrs:{row:""}},[a("div",{staticClass:"statType"},[t._v(" Statistics: ")]),a("div",{staticClass:"statValueItem"},[t._v("Min")]),a("div",{staticClass:"statValueItem"},[t._v("Avg")]),a("div",{staticClass:"statValueItem"},[t._v("Max")])]),t._l(t.statistics,(function(e,r){return a("v-layout",{key:r,attrs:{row:""}},[a("div",{staticClass:"statType"},[t._v(t._s(t.typeName(r)))]),a("div",{staticClass:"statValueItem"},[t._v(t._s(e[0]))]),a("div",{staticClass:"statValueItem"},[t._v(t._s(e[1]))]),a("div",{staticClass:"statValueItem"},[t._v(t._s(e[2]))])])})),a("v-divider"),a("moderator-list",{attrs:{moderators:t.moderators,area:t.area}}),a("v-divider")],2)],2)},rt=[],nt=(a("caad"),a("b0c0"),a("2532"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-layout",{attrs:{column:""}},[a("v-toolbar",{attrs:{dense:"",flat:""}},[a("v-spacer"),a("v-btn",{attrs:{text:"",icon:"",title:"Close sidebar"},on:{click:function(e){return e.stopPropagation(),t.closeDrawer(e)}}},[a("v-icon",[t._v("arrow_back")])],1)],1),a("v-card",{attrs:{text:""}},[a("v-card-title",{staticClass:"pa-0"},[a("v-layout",{attrs:{column:""}},[a("ancestor-breadcrumbs",{attrs:{"ancestor-ids":t.ancestorIds}}),a("h3",{staticClass:"headline pa-2"},[t._v(" "+t._s(t.item.name)+" "),t._t("tag")],2)],1)],1),a("v-divider"),a("v-card-text",[t._t("item-details")],2)],1),a("v-tabs",{attrs:{grow:"","mobile-break-point":"300"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[t.item.areas?a("v-tab",{attrs:{href:"#areas"}},[t._v("Areas")]):t._e(),"area"===t.type?a("v-tab",{attrs:{href:"#routes"}},[t._v("Routes")]):t._e(),t.item.pitches&&t.item.length>50?a("v-tab",{attrs:{href:"#pitches"}},[t._v("Pitches")]):t._e(),void 0!==t.item.type_id?a("v-tab",{attrs:{href:"#pictures"}},[t._v("Pictures")]):t._e(),void 0!==t.item.type_id?a("v-tab",{attrs:{href:"#links"}},[t._v("Links")]):t._e(),a("v-tabs-items",{staticClass:"mt-2",model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[t.item.areas?a("v-tab-item",{attrs:{value:"areas"}},[a("v-btn",{attrs:{title:"Add area",text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"area-form",params:{parent:t.item}})}}},[a("v-icon",[t._v("add")])],1),a("area-list",{attrs:{areaIds:t.item.areas}})],1):t._e(),"area"===t.type?a("v-tab-item",{attrs:{value:"routes"}},[a("route-list")],1):t._e(),a("v-tab-item",{attrs:{value:"pitches"}},[a("v-btn",{attrs:{text:"",title:"Add pitch",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"pitch-form",params:{route:t.item}})}}},[a("v-icon",[t._v("add")])],1),a("pitch-list",{attrs:{route:t.item}})],1),a("v-tab-item",{attrs:{value:"pictures"}},[a("v-btn",{attrs:{text:"",title:"Upload photo",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"image-upload-form",params:{type:t.type,id:t.item.id}})}}},[a("v-icon",[t._v("add_photo_alternate")])],1),t.item.images?a("image-list",{attrs:{imageIds:t.item.images}}):t._e()],1),t.item.type_id?a("v-tab-item",{attrs:{value:"links"}},[a("link-list",{attrs:{links:t.item.links}})],1):t._e()],1)],1)],1)],1)}),ot=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.images.length?a("div",[t._l(t.renderedImages,(function(t){return a("image-list-item",{key:t.id,attrs:{image:t}})})),t.images.length!==t.renderedImages.length?a("v-progress-circular",{attrs:{stroke:"1",size:25,indeterminate:""}}):a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-around"}},[a("div",[t._v("No more pictures")])])],2):a("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-around"}},[a("div",[t._v("No pictures of this item!")])]),a("div",{attrs:{id:"listBottom"}})])},st=[],ct=(a("99af"),a("fb6a"),a("bded")),ut=a.n(ct),lt=a("c034"),dt={props:{imageIds:Array},data:function(){return{renderedImages:[]}},computed:{images:function(){var t=this,e=[];return this.imageIds.forEach((function(a){var r=t.$store.state.image.byIds[a];r&&e.push(r)})),e}},methods:{addImages:function(){this.images.length>5?this.renderedImages.length<this.images.length&&(this.renderedImages=this.renderedImages.concat(this.images.slice(this.renderedImages.length,this.renderedImages.length+5))):this.renderedImages=this.images},registerScrollListener:function(){var t=this,e=document.getElementById("drawerLeft"),a=ut.a.createContainer(e),r=document.getElementById("listBottom"),n=a.create(r,0);n.enterViewport((function(){t.addImages()}))}},mounted:function(){this.registerScrollListener()},watch:{images:{immediate:!0,handler:function(){this.renderedImages=[],this.addImages()}}},components:{ImageListItem:lt["a"]}},mt=dt,ft=(a("cd9c"),a("490a")),pt=Object(p["a"])(mt,it,st,!1,null,null,null),ht=pt.exports;g()(pt,{VProgressCircular:ft["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:""}},[t.item.id?a("v-btn",{attrs:{text:"",title:"Add route",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"route-form",params:{area:t.item}})}}},[a("v-icon",[t._v("add")])],1):t._e(),a("v-btn",{attrs:{text:"",title:"Filters",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"route-filters-form"})}}},[a("v-icon",[t._v("filter_list")])],1),a("v-text-field",{attrs:{label:"Search"},model:{value:t.routeQueryString,callback:function(e){t.routeQueryString=e},expression:"routeQueryString"}})],1),a("v-list",{attrs:{"two-line":""}},[t._l(t.routes,(function(t){return a("route-list-item",{key:t.id,attrs:{route:t}})})),a("v-list-item",[a("v-list-item-content",[t.hasMoreRoutes?a("v-btn",{on:{click:function(e){return e.stopPropagation(),t.loadRoutes()}}},[t._v("Load more ...")]):t._e()],1)],1)],2)],1)},vt=[],bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item",{class:{route_list_hover:t.highlight},on:{click:function(e){return e.preventDefault(),t.link()}},nativeOn:{mouseenter:function(e){return t.onMouseOver()},mouseleave:function(e){return t.onMouseOut()}}},[a("v-list-item-icon",{attrs:{size:"90"}},[a("v-chip",[t._v(t._s(t.typeName))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.route.name))]),a("v-list-item-subtitle",[a("v-layout",{attrs:{"justify-space-between":""}},[a("div",[t._v(t._s(t.grade))]),a("div",[t._v(t._s(t.route.length)+"m")])])],1)],1),t.canTagRoute?a("v-list-item-action",[a("tag-control",{attrs:{type:"route",item:t.route}})],1):t._e()],1)},yt=[],It=a("a96b"),_t={props:["route"],computed:{highlight:function(){return this.$store.state.highlight.key===this.key},typeName:function(){return D["a"].route[this.route.type_id]},canTagRoute:function(){return this.route.length<40&&this.$route.params.imageId||this.route.length>=40&&!this.$route.params.imageId},key:function(){return"route"+this.route.id},grade:function(){return this.route&&It["a"].forge(this.route.grades)}},methods:{link:function(){this.onMouseOut(),this.$router.push(va("route",this.route.id))},onMouseOver:function(){this.$store.commit("highlight/set",this.key)},onMouseOut:function(){this.$store.commit("highlight/set",null)}},components:{TagControl:$["a"]}},kt=_t,wt=(a("1344"),a("a722")),Vt=Object(p["a"])(kt,bt,yt,!1,null,null,null),xt=Vt.exports;g()(Vt,{VChip:F["a"],VLayout:wt["a"],VListItem:B["a"],VListItemAction:z["a"],VListItemContent:W["a"],VListItemIcon:N["a"],VListItemSubtitle:W["b"],VListItemTitle:W["c"]});var Ot={cancelToken:null,components:{RouteListItem:xt},computed:Object(r["a"])({},Object(l["c"])({routes:"route/getFiltered",filters:"route/filters",item:"area/get"}),{},Object(l["e"])({hasMoreRoutes:function(t){return t.route.hasMore}}),{routeQueryString:{get:function(){return this.filters.query},set:function(t){var e=this;this.setQueryString(t),this.$options.cancelToken&&clearTimeout(this.$options.cancelToken),this.$options.cancelToken=setTimeout((function(){return e.loadRoutes()}),1e3)}}}),methods:Object(r["a"])({},Object(l["b"])({loadRoutes:"route/loadFiltered",openForm:"form/open"}),{},Object(l["d"])({setQueryString:"route/setQueryString"}))},Lt=Ot,Tt=a("8654"),jt=a("71d9"),At=Object(p["a"])(Lt,gt,vt,!1,null,null,null),Mt=At.exports;g()(At,{VBtn:v["a"],VIcon:Y["a"],VList:H["a"],VListItem:B["a"],VListItemContent:W["a"],VTextField:Tt["a"],VToolbar:jt["a"]});var St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Pitch")]),a("th",{staticClass:"text-left"},[t._v("Grade")]),a("th",{staticClass:"text-left"},[t._v("Length")]),a("th",{staticClass:"text-left"})])]),a("tbody",t._l(t.pitches,(function(e,r){return a("tr",{key:r,on:{mouseenter:function(a){return t.onMouseEnter("pitch"+e.id)},mouseleave:function(e){return t.onMouseLeave()}}},[a("td",[t._v(t._s(r+1))]),a("td",[t._v(t._s(t.forgeGrade(e.grades)))]),a("td",[t._v(t._s(e.length)+"m")]),a("td",[t.notMap?a("tag-control",{attrs:{type:"pitch",item:e}}):t._e(),a("v-btn",{attrs:{text:"",icon:""},on:{click:function(a){return a.stopPropagation(),t.openForm({component:"pitch-form",params:{pitch:e,route:t.route}})}}},[a("v-icon",[t._v("edit")])],1),a("delete-button",{attrs:{type:"pitch",item:e}})],1)])})),0)]},proxy:!0}])})},Et=[],Ct=a("b79f"),Dt={props:["route"],computed:{notMap:function(){return!!this.$route.params.imageId},pitches:function(){var t=this,e=[];return this.route.pitches&&this.route.pitches.forEach((function(a){var r=t.$store.state.pitch.byIds[a];r&&e.push(r)})),e}},methods:Object(r["a"])({},Object(l["b"])({openForm:"form/open"}),{},Object(l["d"])({onMouseEnter:"highlight/set",onMouseLeave:"highlight/set"}),{forgeGrade:function(t){return t?It["a"].forge(t):""},highlight:function(t){return this.$store.getters["highlight/id"]==="pitch"+t.id}}),components:{TagControl:$["a"],DeleteButton:Ct["a"]}},$t=Dt,Pt=a("1f4f"),Rt=Object(p["a"])($t,St,Et,!1,null,null,null),Ft=Rt.exports;g()(Rt,{VBtn:v["a"],VIcon:Y["a"],VSimpleTable:Pt["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"}),a("th",{staticClass:"text-left"},[t._v("Link")]),a("th",{staticClass:"text-left"})])]),a("tbody",t._l(t.links,(function(e,r){return a("tr",{key:e.id},[a("td",[t._v(t._s(r+1))]),a("td",[a("a",{attrs:{href:e.href,target:"_blank"}},[t._v(t._s(e.name))])])])})),0)]},proxy:!0}])})},zt=[],Wt={props:["links"]},Nt=Wt,Xt=Object(p["a"])(Nt,Bt,zt,!1,null,null,null),Gt=Xt.exports;g()(Xt,{VSimpleTable:Pt["a"]});var qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-breadcrumbs",{attrs:{items:t.ancestors,divider:"/"},scopedSlots:t._u([{key:"item",fn:function(e){return[a("router-link",{attrs:{to:e.item.id?"/area/"+e.item.id:"/"}},[t._v(t._s(e.item.name))])]}}])})},Ut=[],Ht={props:{ancestorIds:Array},computed:{ancestors:function(){var t=this;if(!this.ancestorIds)return[];var e=[];return e.push({id:0,name:"Home"}),this.ancestorIds.forEach((function(a){var r=t.$store.state.area.byIds[a];r&&e.push(r)})),e}}},Qt=Ht,Jt=a("2bc5"),Zt=Object(p["a"])(Qt,qt,Ut,!1,null,null,null),Kt=Zt.exports;g()(Zt,{VBreadcrumbs:Jt["a"]});var Yt={props:["item","ancestorIds","type"],data:function(){return{tabs:null}},methods:Object(r["a"])({},Object(l["b"])({openForm:"form/open"}),{closeDrawer:function(){this.$store.commit("drawers/setLeft",!1)}}),watch:{item:function(t){this.tabs=t&&t.children?"areas":"pitches"}},components:{ImageList:ht,AreaList:J,RouteList:Mt,LinkList:Gt,PitchList:Ft,AncestorBreadcrumbs:Kt}},te=Yt,ee=a("b0af"),ae=a("99d9"),re=a("a523"),ne=a("ce7e"),oe=a("2fa4"),ie=a("71a3"),se=a("c671"),ce=a("fe57"),ue=a("aac8"),le=Object(p["a"])(te,nt,ot,!1,null,null,null),de=le.exports;g()(le,{VBtn:v["a"],VCard:ee["a"],VCardText:ae["c"],VCardTitle:ae["d"],VContainer:re["a"],VDivider:ne["a"],VIcon:Y["a"],VLayout:wt["a"],VSpacer:oe["a"],VTab:ie["a"],VTabItem:se["a"],VTabs:ce["a"],VTabsItems:ue["a"],VToolbar:jt["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"justify-center":"",fluid:"","fill-height":""}},[a("v-progress-circular",{attrs:{size:50,indeterminate:""}})],1)},fe=[],pe={},he=Object(p["a"])(pe,me,fe,!1,null,null,null),ge=he.exports;g()(he,{VContainer:re["a"],VProgressCircular:ft["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasAnyModerators?a("v-expansion-panels",{attrs:{flat:""}},[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v("Moderators")]),a("v-expansion-panel-content",[a("v-list",t._l(t.moderators,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1),a("v-list-item-action",[a("div",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return a.stopPropagation(),t.remove(e)}}},[a("v-icon",[t._v("delete")])],1)],1)])],1)})),1)],1)],1)],1):t._e()},be=[],ye=a("842b"),Ie={props:["moderators","area"],computed:{hasAnyModerators:function(){return 0!==this.moderators.length}},methods:{remove:function(t){var e=this;ye["b"].get("/user/"+t.id+"/removeArea/"+this.area.id).then((function(){e.$store.commit("area/removeModerator",{area:e.area,moderator:t}),e.$store.commit("snackbar/success",t.name+" removed as moderator to "+e.area.name)})).catch((function(t){console.log(t)})).finally((function(){return e.isLoading=!1}))}}},_e=Ie,ke=a("cd55"),we=a("49e2"),Ve=a("c865"),xe=a("0393"),Oe=Object(p["a"])(_e,ve,be,!1,null,null,null),Le=Oe.exports;g()(Oe,{VBtn:v["a"],VExpansionPanel:ke["a"],VExpansionPanelContent:we["a"],VExpansionPanelHeader:Ve["a"],VExpansionPanels:xe["a"],VIcon:Y["a"],VList:H["a"],VListItem:B["a"],VListItemAction:z["a"],VListItemContent:W["a"],VListItemTitle:W["c"]});var Te={computed:Object(r["a"])({},Object(l["c"])({area:"area/get"}),{loading:function(){return this.$store.state.area.loading||!this.area},canAdopt:function(){var t=this.$store.state.adoption;return t.item&&!("area"===t.type&&(t.item.id===this.area.id||this.area.ancestors.includes(t.item.id)))},moderators:function(){var t=this;if(!this.area&&!this.area.moderators)return[];var e=[];return this.area.moderators.forEach((function(a){e.push(t.$store.getters["user/find"](a))})),e},parent:function(){var t,e,a=0!==(null===(t=this.area)||void 0===t||null===(e=t.ancestors)||void 0===e?void 0:e.length)&&this.area.ancestors[this.area.ancestors.length-1];return a?this.$store.state.area.byIds[a]:null},statistics:function(){var t,e,a,r,n,o={},i=[0,1,2,3,5,10];if(this.area){for(var s in this.area.statistics)if(i.includes(parseInt(s))){for(var c in t=1e5,e=0,a=0,r=0,this.area.statistics[s])n=parseInt(c),t>n&&(t=n),e<n&&(e=n),a+=n*this.area.statistics[s][c],r+=this.area.statistics[s][c];o[s]=[It["a"].charts[It["a"].types[s].charts[0]][t],It["a"].charts[It["a"].types[s].charts[0]][Math.round(a/r)],It["a"].charts[It["a"].types[s].charts[0]][e]]}return o}},orientation:function(){return D["a"].orientation.getLabel(this.area.orientation)}}),components:{DetailsLayout:de,DetailsLoading:ge,DeleteButton:Ct["a"],TagControl:$["a"],ModeratorList:Le},methods:Object(r["a"])({},Object(l["b"])({openForm:"form/open",setChildForAdoption:"adoption/setChild",setAdoptingParent:"adoption/setParent"}),{typeName:function(t){return It["a"].types[t].name}})},je=Te,Ae=(a("3e98"),a("0e8f")),Me=Object(p["a"])(je,at,rt,!1,null,null,null),Se=Me.exports;g()(Me,{VBtn:v["a"],VDivider:ne["a"],VFlex:Ae["a"],VIcon:Y["a"],VLayout:wt["a"]});var Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?a("details-loading"):a("details-layout",{attrs:{item:t.route,"ancestor-ids":t.ancestorIds,type:"route"}},[a("template",{slot:"item-details"},[a("v-btn",{attrs:{text:"",icon:""},on:{click:function(e){return e.stopPropagation(),t.openForm({component:"route-form",params:{route:t.route,area:t.area}})}}},[a("v-icon",[t._v("edit")])],1),a("v-btn",{attrs:{text:"",icon:"",title:"Move item to another area"},on:{click:function(e){return e.stopPropagation(),t.setChildForAdoption({type:"route",item:t.route})}}},[a("v-icon",[t._v("import_export")])],1),a("delete-button",{attrs:{type:"route",item:t.route,"return-back":""}}),a("v-layout",{attrs:{column:""}},[a("div",[a("strong",[t._v("Grade:")]),t._v(" "+t._s(t.grade)+" ")]),a("div",[a("strong",[t._v("Length:")]),t._v(" "+t._s(t.route.length)+"m ")]),a("div",[a("strong",[t._v("Orientation:")]),t._v(" "+t._s(t.orientation)+" ")])])],1),t.route.length<40?a("template",{slot:"tag"},[a("tag-control",{attrs:{type:"route",item:t.route}})],1):t._e()],2)},Ce=[],De={computed:Object(r["a"])({},Object(l["c"])({route:"route/get"}),{loading:function(){return this.$store.state.route.loading||this.$store.state.area.loading||!this.route},area:function(){return this.route&&this.$store.state.area.byIds[this.route.area_id]},ancestorIds:function(){return!this.loading&&this.route&&(this.route.ancestors||[])},orientation:function(){return!this.loading&&this.route&&D["a"].orientation.getLabel(this.route.orientation||this.area.orientation)},grade:function(){var t;return(null===(t=this.route)||void 0===t?void 0:t.grades)&&It["a"].forge(this.route.grades)}}),methods:Object(r["a"])({},Object(l["b"])({openForm:"form/open",setChildForAdoption:"adoption/setChild"})),components:{DetailsLayout:de,DetailsLoading:ge,TagControl:$["a"],DeleteButton:Ct["a"]}},$e=De,Pe=Object(p["a"])($e,Ee,Ce,!1,null,null,null),Re=Pe.exports;g()(Pe,{VBtn:v["a"],VIcon:Y["a"],VLayout:wt["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map",attrs:{id:"leaflet-map"}})},Be=[],ze=(a("d81d"),a("e11e")),We=(a("2acb"),{name:"Cartodb",url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png"}),Ne=[{name:"OpenCycleMap",url:"https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Transport",url:"https://tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Landscape",url:"https://tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Outdoors",url:"https://tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Transport Dark",url:"https://tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Spinal Map",url:"https://tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Pioneer",url:"https://tile.thunderforest.com/pioneer/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Mobile Atlas",url:"https://tile.thunderforest.com/mobile-atlas/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Neighbourhood",url:"https://tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"}],Xe=function(t){var e=ze["control"].layers().addTo(t),a=new ze["TileLayer"](We.url);t.addLayer(a),e.addBaseLayer(a,We.name),Ne.forEach((function(t){e.addBaseLayer(new ze["TileLayer"](t.url),t.name)}))},Ge=a("b922"),qe={map:null,mounted:function(){var t=new ze["LatLngBounds"](new ze["LatLng"](89,-179),new ze["LatLng"](-89,179));this.$options.map=new ze["Map"]("leaflet-map",{noWrap:!0,maxZoom:18,minZoom:2,zoom:2,maxBounds:t,maxBoundsViscosity:1,center:[0,0],zoomControl:!1}),Xe(this.$options.map),Ge["a"].map=this.$options.map,ze["control"].zoom({position:"bottomright"}).addTo(this.$options.map),ze["control"].scale().addTo(this.$options.map)},destroyed:function(){Ge["a"].map=null}},Ue=qe,He=Object(p["a"])(Ue,Fe,Be,!1,null,null,null),Qe=He.exports,Je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map"},[a("v-btn",{staticClass:"map-button",staticStyle:{position:"absolute"},attrs:{title:"Open map",fab:""},on:{click:function(e){return t.openMap()}}},[a("v-icon",[t._v("map")])],1),a("div",{staticClass:"map",attrs:{id:"image-map"}})],1)},Ze=[],Ke=a("3835"),Ye=a("d4ec"),ta=a("bee2"),ea=a("0613"),aa=function(){function t(){Object(Ye["a"])(this,t)}return Object(ta["a"])(t,[{key:"registerImageWatch",value:function(){var t=this;this._unWatchStore=ea["a"].watch((function(t,e){return e["image/get"]}),(function(e,a){var r;e&&e.id!==(null===(r=a)||void 0===r?void 0:r.id)&&t.open(e)}),{immediate:!0})}},{key:"getBounds",value:function(t){var e=Object(Ke["a"])(t,2),a=e[0],r=e[1];return new ze["LatLngBounds"](new ze["LatLng"](0,0),new ze["LatLng"](r/10,a/10))}},{key:"open",value:function(t){var e=this.getBounds(t.size);this._imageOverlay&&this._map.removeLayer(this._imageOverlay),this._imageOverlay=Object(ze["imageOverlay"])(ye["a"]+"image/"+t.id,e),this._map.addLayer(this._imageOverlay),this._map.setMaxBounds(e)}},{key:"map",set:function(t){this._map=t,this._map?this.registerImageWatch():this._unWatchStore&&this._unWatchStore()}}]),t}(),ra=new aa,na=ra,oa={map:null,mounted:function(){this.$options.map=new ze["Map"]("image-map",{center:[0,0],zoom:3,minZoom:1,maxZoom:13,maxBoundsViscosity:1,zoomControl:!1,crs:ze["CRS"].Simple}),na.map=this.$options.map,Ge["a"].map=this.$options.map,ze["control"].zoom({position:"bottomright"}).addTo(this.$options.map)},methods:{openMap:function(){this.$router.push(va("image",null))}},destroyed:function(){Ge["a"].map=null,na.map=null}},ia=oa,sa=(a("ea3b"),Object(p["a"])(ia,Je,Ze,!1,null,null,null)),ca=sa.exports;g()(sa,{VBtn:v["a"],VIcon:Y["a"]}),n["a"].use(o["a"]);var ua=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"bb47"))},la=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"080b"))},da=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"51e9"))},ma=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"dfbc"))},fa=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"ed27"))},pa=function(){return Promise.all([a.e("admin.panel~area.form~moderator.form~route.filters~route.form"),a.e("admin.panel")]).then(a.bind(null,"9fc6"))},ha=[{path:"/",component:T,children:[{path:"",components:{default:et,map:Qe}},{path:"image/:imageId",components:{default:et,map:ca}},{path:"area/:areaId",components:{default:Se,map:Qe}},{path:"area/:areaId/image/:imageId",components:{default:Se,map:ca}},{path:"route/:routeId",components:{default:Re,map:Qe}},{path:"route/:routeId/image/:imageId",components:{default:Re,map:ca}},{path:"/auth/:provide/callback",component:{template:'<div class="auth-component"></div>'}}]},{path:"/admin",component:ua,beforeEnter:function(t,e,a){var r=ea["a"].getters["auth/check"];if(r){var n=ea["a"].getters["auth/isAdmin"];n?a():ea["a"].commit("snackbar/throwError",403)}else ea["a"].dispatch("form/open",{component:"login-form",params:null})},children:[{path:"",components:{default:la,content:da}},{path:"users",components:{default:la,content:da}},{path:"user/:id",components:{default:la,content:pa}},{path:"images",components:{default:la,content:fa}},{path:"activities",components:{default:la,content:ma}}]}],ga=new o["a"]({routes:ha});function va(t,e){var a=Object(r["a"])({},ga.currentRoute.params);"image"===t?a.imageId=e:"area"===t?(delete a.routeId,a.areaId=e):(delete a.areaId,a.routeId=e);var n="";return a.areaId?n="/area/"+a.areaId:a.routeId&&(n="/route/"+a.routeId),a.imageId&&(n+="/image/"+a.imageId),""===n?"/":n}e["a"]=ga},b261:function(t,e,a){},b79f:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline"}},[a("v-btn",{attrs:{text:"",icon:"",title:"Delete "+t.type},on:{click:function(e){return e.stopPropagation(),t.showDialog()}}},[a("v-icon",[t._v("delete")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v("Are you sure ?")]),a("v-card-text",[t._v("Deleting this "+t._s(t.type)+" will remove all refrences to it as well as all depended items.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",icon:"",title:"Dismiss action"},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("close")])],1),a("v-btn",{attrs:{text:"",icon:"",title:"Confirm delete"},on:{click:function(e){return t.confirmDelete()}}},[a("v-icon",[t._v("check")])],1)],1)],1)],1)],1)},n=[],o=a("2b0e"),i=a("842b"),s=o["a"].extend({props:{type:String,item:Object,returnBack:Boolean},data:function(){return{dialog:!1}},methods:{showDialog:function(){var t=this;this.$store.dispatch("auth/authorize",{item:this.item,callback:function(){t.dialog=!0}})},confirmDelete:function(){var t=this;i["b"].delete(this.type+"/"+this.item.id).then((function(){if("tag"===t.type){var e=t.$store.getters.openImage;e?t.$store.commit("image/removeImageTag",{imageId:e,tag:t.item}):t.$store.commit(t.item.tagged_type+"/removeMapTag",t.item.tagged_id)}else t.returnBack&&t.$router.back(),t.$store.commit(t.type+"/remove",t.item);t.$store.commit("snackbar/success","Deleted!")})),this.dialog=!1}}}),c=s,u=a("2877"),l=a("6544"),d=a.n(l),m=a("8336"),f=a("b0af"),p=a("99d9"),h=a("169a"),g=a("132d"),v=a("2fa4"),b=Object(u["a"])(c,r,n,!1,null,null,null);e["a"]=b.exports;d()(b,{VBtn:m["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VDialog:h["a"],VIcon:g["a"],VSpacer:v["a"]})},b922:function(t,e,a){"use strict";a("4160"),a("caad"),a("fb6a"),a("4ec9"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0");var r=a("d4ec"),n=a("bee2"),o=a("e11e"),i=a("0613"),s=(a("b0c0"),a("5f68"));function c(t){return'<path d="M12 2L4.5 20.29l.71.71L12 18l6.79 3 .71-.71z" fill="'+t+'"/>'}function u(t){return'<circle cx="12" cy="12" r="6" fill="'+t+'"/>'}function l(t,e){t.setStyle({color:e})}function d(t,e){t.setIcon(new o["Icon"]({iconUrl:Object(s["a"])(e),iconSize:[18,18],iconAnchor:[9,9]}))}var m={style:function(t,e,a){t.setIcon(new o["DivIcon"]({className:e,html:a,iconSize:[50,50]}))},default:function(t){this.style(t.layer,"climb-area",t.item.name)},highlight:function(t){this.style(t.layer,"climb-area-highlight",t.item.name)},selected:function(t){this.style(t.layer,"climb-area-selected",t.item.name)}},f={default:function(t){d(t.layer,c("red"))},highlight:function(t){d(t.layer,c("blue"))},selected:function(t){d(t.layer,c("yellow"))}},p={default:function(t){l(t.layer,"red")},highlight:function(t){l(t.layer,"blue")},selected:function(t){l(t.layer,"yellow")}},h={default:function(t){d(t.layer,u("red"))},highlight:function(t){d(t.layer,u("blue"))},selected:function(t){d(t.layer,u("yellow"))}},g={default:function(t){l(t.layer,"orange")},highlight:function(t){l(t.layer,"blue")},selected:function(t){l(t.layer,"yellow")}},v={default:function(t){l(t.layer,"green")},highlight:function(t){l(t.layer,"blue")},selected:function(t){l(t.layer,"yellow")}},b={map:{area:m,trail:v,pitch:null,route:f,image:h},image:{area:m,trail:v,pitch:g,route:p,image:h}},y=b,I=a("a96b"),_={set:function(t,e){t.bindTooltip(e,{permanent:!0,sticky:!0,className:"tooltip",interactive:!0})},route:function(t){var e=t.layer,a=t.item;this.set(e,a.name+"<br/>"+I["a"].forge(a.grades)+"<br/>"+a.length+"m")},pitch:function(t){var e=t.layer,a=t.item;this.set(e,I["a"].forge(a.grades)+" "+a.length+"m")},trail:function(t){var e=t.layer,a=t.item;this.set(e,a.name)}},k=_,w=function(){function t(){Object(r["a"])(this,t),this._layerGroup=new o["FeatureGroup"],this._features=new Map,this._selected=[],this.registerHighlightWatch()}return Object(n["a"])(t,[{key:"registerHighlightWatch",value:function(){var t=this;i["a"].watch((function(t){var e;return null===(e=t.highlight)||void 0===e?void 0:e.key}),(function(e){t.highlightFeature(e)}))}},{key:"registerTagsWatch",value:function(){var t=this;this._unwatchTags=i["a"].watch((function(t,e){return e.tags}),(function(e){t.setSelectedKeys(),t._map&&t.addTagsToView(e)}),{immediate:!0})}},{key:"setSelectedKeys",value:function(){var t;this._selected=[];var e=null===(t=i["a"].state.url)||void 0===t?void 0:t.params;for(var a in e){var r=a.slice(0,-2)+e[a];this._selected.push(r)}}},{key:"isSelectedFeature",value:function(t){return this._selected.includes(t)}},{key:"highlightFeature",value:function(t){var e=this;this._features.forEach((function(a,r){t===r?e.setStyle("highlight",a):e.setDefaultStyle(r,a)}))}},{key:"removeLayers",value:function(){var t=this;this._features.forEach((function(e){t._layerGroup.removeLayer(e.layer)})),this._features.clear()}},{key:"hideTag",value:function(t){var e=this._features.get(t);e&&this._layerGroup.removeLayer(e.layer)}},{key:"showTag",value:function(t){var e=this._features.get(t.tagged_type+t.tagged_id);e&&this._layerGroup.addLayer(e.layer)}},{key:"hasTag",value:function(t){return this._features.has(t)}},{key:"getTag",value:function(t){var e;return null===(e=this._features.get(t))||void 0===e?void 0:e.tag}},{key:"addTagsToView",value:function(t){var e=this;this.removeLayers(),t.forEach((function(t){var a=t.tagged_type&&i["a"].getters[t.tagged_type+"/find"](t.tagged_id);if(a){var r=e.createLayer(t),n={layer:r,item:a,tag:t},o=t.tagged_type+t.tagged_id;e._features.set(o,n),e.setDefaultStyle(o,n),e.registerListeners(o,n),"image"===e._mapType&&k[t.tagged_type]&&k[t.tagged_type](n),e._layerGroup.addLayer(r)}}));try{this._map.fitBounds(this._layerGroup.getBounds(),{maxZoom:15})}catch(a){}}},{key:"setDefaultStyle",value:function(t,e){this.isSelectedFeature(t)?this.setStyle("selected",e):this.setStyle("default",e)}},{key:"setStyle",value:function(t,e){var a=e.tag.tagged_type;y[this._mapType][a]&&y[this._mapType][a][t]({layer:e.layer,item:e.item})}},{key:"createLayer",value:function(t){var e;switch(t.geometry.type){case"Point":e=this.createMarker(t.geometry.coordinates);break;case"LineString":e=this.createPolyline(t.geometry.coordinates);break}return e}},{key:"createMarker",value:function(t){return new o["Marker"]([t[1],t[0]])}},{key:"createPolyline",value:function(t){var e=[];return t.forEach((function(t){e.push([t[1],t[0]])})),new o["Polyline"](e)}},{key:"registerListeners",value:function(t,e){e.layer.on("mouseover",(function(e){i["a"].commit("highlight/set",t),e.target.getTooltip()&&e.target.closeTooltip()})).on("mouseout",(function(t){i["a"].commit("highlight/set",null),t.target.getTooltip()&&t.target.openTooltip()})).on("click",(function(t){void 0===t.target.getPopup()&&a.e("popup.service").then(a.bind(null,"3b97")).then((function(a){var r=a.default;r.createPopup(e,t.latlng)}))}))}},{key:"map",set:function(t){this.removeLayers(),this._map=t,null===this._map?this._unwatchTags&&this._unwatchTags():(this._mapType=i["a"].getters.openImage?"image":"map",this._layerGroup.addTo(t),this.registerTagsWatch())},get:function(){return this._map}}]),t}(),V=new w;e["a"]=V},c034:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-img",{key:t.image.id,staticClass:"image-item",attrs:{src:t.src(t.image.id),contain:""},nativeOn:{click:function(e){return t.open(t.image.id)}}},[a("div",{staticClass:"image-controls"},[a("tag-control",{attrs:{type:"image",item:t.image}}),a("delete-button",{attrs:{type:"image",item:t.image,"return-back":""}})],1)])},n=[],o=a("320e"),i=a("b79f"),s=a("afbc"),c={props:["image"],methods:{src:function(t){return"/api/image/"+t+"/thumbnail"},open:function(t){this.$router.push(Object(s["b"])("image",t))}},components:{TagControl:o["a"],DeleteButton:i["a"]}},u=c,l=(a("4b95"),a("2877")),d=a("6544"),m=a.n(d),f=a("adda"),p=Object(l["a"])(u,r,n,!1,null,null,null);e["a"]=p.exports;m()(p,{VImg:f["a"]})},c96a:function(t,e,a){},cb8b:function(t,e,a){"use strict";a("d81d"),a("b0c0"),a("d3b7");var r=a("d4ec"),n=a("bee2"),o=a("b922"),i=a("0613"),s=a("842b"),c=(a("845a"),a("a94e"),{map:{area:"Marker",route:"Marker",trail:"Line",image:"Marker"},image:{pitch:"Line",route:"Line"}}),u=function(){function t(){Object(r["a"])(this,t)}return Object(n["a"])(t,[{key:"setMapAndType",value:function(t){return this._map=o["a"].map,this._taggedType=t,i["a"].getters.openImage?this._drawingType=c.image[t]||c.map[t]:this._drawingType=c.map[t],this._map}},{key:"createTag",value:function(t,e){this.setMapAndType(t)&&(i["a"].commit("snackbar/show","Adding tag for "+(e.name||t)),i["a"].commit("setDrawingMode",!0),this._layer=null,this._item=e,this.registerListenerOnDraw(),this.enableDrawing())}},{key:"editTag",value:function(t,e){var a=t+e.id;o["a"].hasTag(a)?(this._tag=o["a"].getTag(a),o["a"].hideTag(a),this.setMapAndType(t)&&(this._item=e,i["a"].commit("snackbar/show","Editing tag for "+(e.name||t)),i["a"].commit("setDrawingMode",!0),this.createDrawingLayer())):i["a"].commit("snackbar/show","Tag doesn't exist!")}},{key:"createDrawingLayer",value:function(){this._layer=this._tag&&o["a"].createLayer(this._tag),this._layer.addTo(this._map),this._layer.pm.enable()}},{key:"registerListenerOnDraw",value:function(){var t=this;this._map.once("pm:create",(function(e){t._map.pm.disableDraw(t._drawingType),t._layer=e.layer,t._layer.pm.enable()}))}},{key:"enableDrawing",value:function(){this._map.pm.enableDraw(this._drawingType,{snappable:!0,snapDistance:20,snapMiddle:!0})}},{key:"createRequest",value:function(){var t;return{id:(null===(t=this._tag)||void 0===t?void 0:t.id)||null,image_id:i["a"].getters.openImage||null,geometry:this._layer.toGeoJSON().geometry,tagged_type:this._taggedType,tagged_id:this._item.id}}},{key:"storeTag",value:function(){var t,e=this;i["a"].commit("snackbar/show","Storing tag");var a=this.createRequest(),r=this._tag?s["b"].put("tag/"+(null===(t=this._tag)||void 0===t?void 0:t.id),a):s["b"].post("tag",a);r.then((function(t){var e=t.data;i["a"].commit("snackbar/success","Tag stored"),e&&null==a.id&&(a.id=e),i["a"].getters.openImage?i["a"].commit("image/storeImageTag",a):i["a"].commit(a.tagged_type+"/storeMapTag",a)})).catch((function(){e.discardLayer()})).finally((function(){e.afterDrawing()}))}},{key:"afterDrawing",value:function(){this._layer&&this._layer.remove(),this._map&&this._map.pm.disableDraw(this._drawingType),i["a"].commit("setDrawingMode",!1),this._drawingType="",this._tag=null,this._layer=null,this._item=null,this._map=null}},{key:"discardLayer",value:function(){this._tag&&o["a"].showTag(this._tag),this.afterDrawing(),i["a"].commit("setDrawingMode",!1),i["a"].commit("snackbar/error","Changes discarded!")}}]),t}(),l=new u;e["a"]=l},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},o=[],i=a("2877"),s={},c=Object(i["a"])(s,n,o,!1,null,null,null),u=c.exports,l=a("afbc"),d=a("0613"),m=a("0670"),f=a("31c6"),p=a("842b");r["a"].use(f["a"],{providers:{google:{clientId:"272921548264-ulgt9t470ppue02lr2n6a6n4su1rh42s.apps.googleusercontent.com",redirectUri:"http://localhost:8081"}}}),Object.defineProperties(r["a"].prototype,{axios:{get:function(){return p["b"]}},$http:{get:function(){return p["b"]}}});a("3a62");var h=a("31bd");Object(h["sync"])(d["a"],l["a"],{moduleName:"url"}),r["a"].config.productionTip=!1,new r["a"]({router:l["a"],store:d["a"],vuetify:m["a"],render:function(t){return t(u)}}).$mount("#app")},cd9c:function(t,e,a){"use strict";var r=a("08a6"),n=a.n(r);n.a},cdd0:function(t,e,a){"use strict";a.r(e);a("7db0"),a("b0c0"),a("2ca0");var r=a("0d59");function n(){var t=window.localStorage.getItem("auth");return t?JSON.parse(t):{token:"",user:null}}function o(t){window.localStorage.setItem("auth",JSON.stringify(t))}var i=!0,s={namespaced:i,state:n(),mutations:{login:function(t,e){t.token=e.token,t.user=e.user},logout:function(t){t.token="",t.user=void 0}},actions:{login:function(t,e){var a=t.commit,r=t.dispatch;a("login",e),o(e),a("snackbar/success","Successfully logged in!",{root:!0}),r("form/close",null,{root:!0})},authorize:function(t,e){var a=e.item,r=e.callback,n=t.state.user;n?t.getters.authorize(a)?r():t.commit("snackbar/throwError",403,{root:!0}):(t.dispatch("form/open",{component:"login-form",params:null},{root:!0}),t.commit("snackbar/throwError",401,{root:!0}))}},getters:{check:function(t){return!!t.token&&!!t.user},authorize:function(t,e){return function(a){var r;if(e.isAdmin)return!0;if(!a.path)return!1;var n=null===(r=t.user)||void 0===r?void 0:r.path_permissions;return n&&n.find((function(t){return a.path.startsWith(t)})),!1}},isAdmin:function(t){return t.user&&t.user.role_id===r["Role"].ADMIN},username:function(t,e){var a;return e.check?null===(a=t.user)||void 0===a?void 0:a.name:"User not logged in!"}}};e["default"]=s},d16d:function(t,e){},d4e5:function(t,e,a){},ea3b:function(t,e,a){"use strict";var r=a("b261"),n=a.n(r);n.a},f33f:function(t,e,a){"use strict";a.r(e);a("4160"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("ddb0");var r=a("5530"),n=a("3f9b"),o={};n.keys().forEach((function(t){if("./index.ts"!==t){var e=t.replace(/(\.\/|\.ts)/g,"");o[e]=Object(r["a"])({namespaced:!0},n(t).default)}})),e["default"]=o},facc:function(t,e,a){"use strict";var r=a("c96a"),n=a.n(r);n.a},ff3b:function(t,e){}});