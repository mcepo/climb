(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["leaflet.map"],{"6f6b":function(o,t,a){"use strict";a.r(t);var e=function(){var o=this,t=o.$createElement,a=o._self._c||t;return a("div",{staticClass:"map"},[a("v-btn",{staticClass:"map-button",staticStyle:{position:"fixed"},attrs:{title:"My location","aria-label":"My location",fab:"",small:""},on:{click:function(t){return o.showLocation()}}},[a("v-icon",[o._v("gps_fixed")])],1),a("div",{staticClass:"map",attrs:{id:"leaflet-map"}}),a("v-overlay",{attrs:{absolute:!0,opacity:.5,"z-index":199,value:o.loading}},[a("v-progress-circular",{attrs:{indeterminate:"",size:64}})],1)],1)},n=[],i=(a("d81d"),a("b680"),a("e11e")),s=(a("4160"),a("b0c0"),{name:"Cartodb",url:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager/{z}/{x}/{y}.png"}),r=[{name:"OpenCycleMap",url:"https://tile.thunderforest.com/cycle/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Transport",url:"https://tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Landscape",url:"https://tile.thunderforest.com/landscape/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Outdoors",url:"https://tile.thunderforest.com/outdoors/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Transport Dark",url:"https://tile.thunderforest.com/transport-dark/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Spinal Map",url:"https://tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Pioneer",url:"https://tile.thunderforest.com/pioneer/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Mobile Atlas",url:"https://tile.thunderforest.com/mobile-atlas/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"},{name:"Neighbourhood",url:"https://tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=f570d731fdd34004a64587d87a02c81d"}],l=function(o){var t=i["control"].layers().addTo(o),a=new i["TileLayer"](s.url,{crossOrigin:!0});o.addLayer(a),t.addBaseLayer(a,s.name),r.forEach((function(o){t.addBaseLayer(new i["TileLayer"](o.url),o.name)}))},d=a("b922"),c=a("a005"),p=a("2783"),m=a("b005"),u={map:null,location:{marker:null,circle:null,trail:null},goToRequest:!1,computed:{loading:function(){return this.$store.state.area.loading}},mounted:function(){var o=this,t=new i["LatLngBounds"](new i["LatLng"](89,-179),new i["LatLng"](-89,179));this.$options.map=new i["Map"]("leaflet-map",{noWrap:!0,maxZoom:18,minZoom:2,zoom:2,maxBounds:t,maxBoundsViscosity:1,center:[0,0],zoomControl:!1,renderer:new i["Canvas"]({tolerance:5})}),l(this.$options.map),d["a"].map=this.$options.map,i["control"].zoom({position:"bottomright"}).addTo(this.$options.map),i["control"].scale().addTo(this.$options.map),this.$options.location.trail=new i["Polyline"]([]),this.$options.location.trail.addTo(this.$options.map),this.$options.map.on("moveend",(function(){m["a"].state.left||(d["a"].lastMapBounds=o.$options.map.getBounds())}))},methods:{showLocation:function(){this.$store.dispatch("snackbar/show","Getting location,<br>this may take some time ..."),p["a"].registerWatch(this.moveMarker),this.$options.goToRequest=!0},moveMarker:function(o){if(o){this.$options.location.marker&&this.$options.location.marker.remove(),this.$options.location.circle&&this.$options.location.circle.remove();var t=[o.coords.latitude,o.coords.longitude],a=o.coords.accuracy;this.$options.location.marker=new i["Marker"](t,{title:"My Location"}).bindTooltip("My Location<br>Accuracy: "+a.toFixed(2)+"m"),c["a"].currentLocation.default(this.$options.location.marker),this.$options.location.marker.addTo(this.$options.map),a>10&&(this.$options.location.circle=new i["Circle"](t,{radius:a,stroke:!1}),this.$options.location.circle.addTo(this.$options.map)),a<100&&this.$options.location.trail.addLatLng(t),this.$options.goToRequest&&(this.$options.goToRequest=!1,this.goToLocation())}},goToLocation:function(){this.$options.location.marker&&(this.$options.map.setView(this.$options.location.marker.getLatLng(),12),this.$options.location.marker.openTooltip())}},destroyed:function(){d["a"].map=null}},h=u,f=a("2877"),y=a("6544"),g=a.n(y),$=a("8336"),k=a("132d"),b=a("a797"),L=a("490a"),v=Object(f["a"])(h,e,n,!1,null,null,null);t["default"]=v.exports;g()(v,{VBtn:$["a"],VIcon:k["a"],VOverlay:b["a"],VProgressCircular:L["a"]})}}]);