(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["image.map"],{d82e:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"map"},[e("v-layout",{staticClass:"map-button justify-space-between",staticStyle:{position:"fixed",height:"90px"},attrs:{column:""}},[e("v-btn",{attrs:{title:"Toogle tooltips",fab:"",small:""},on:{click:function(a){return t.toogleAllTooltips()}}},[e("v-icon",[t._v("chat_bubble_outline")])],1),e("v-btn",{attrs:{title:"Open map",fab:"",small:""},on:{click:function(a){return t.openMap()}}},[e("v-icon",[t._v("map")])],1)],1),e("div",{staticClass:"map",attrs:{id:"image-map"}})],1)},i=[],o=(e("d81d"),e("e11e")),s=e("3835"),l=e("d4ec"),u=e("bee2"),m=e("0613"),r=e("842b"),c=function(){function t(){Object(l["a"])(this,t)}return Object(u["a"])(t,[{key:"registerImageWatch",value:function(){var t=this;this._unWatchStore=m["a"].watch((function(t,a){return a["image/get"]}),(function(a,e){a&&a.id!==(null===e||void 0===e?void 0:e.id)&&t.open(a)}),{immediate:!0})}},{key:"getBoundsDepricated",value:function(t){var a=Object(s["a"])(t,2),e=a[0],n=a[1];return new o["LatLngBounds"](new o["LatLng"](0,0),new o["LatLng"](n/10,e/10))}},{key:"getBounds",value:function(t){var a=Object(s["a"])(t,2),e=a[0],n=a[1];return new o["LatLngBounds"](new o["LatLng"](-e,n),new o["LatLng"](e,-n))}},{key:"getMaxBounds",value:function(t){return t.pad(.3)}},{key:"open",value:function(t){var a=t.boundary?this.getBounds(t.boundary):this.getBoundsDepricated(t.size);this._imageOverlayThumbnail&&this._map.removeLayer(this._imageOverlayThumbnail),this._imageOverlay&&this._map.removeLayer(this._imageOverlay),this._imageOverlayThumbnail=Object(o["imageOverlay"])(r["a"]+"image/"+t.id+"/thumbnail",a),this._imageOverlay=Object(o["imageOverlay"])(r["a"]+"image/"+t.id,a,{zIndex:2}),this._map.addLayer(this._imageOverlayThumbnail),this._map.addLayer(this._imageOverlay),this._map.setMaxBounds(this.getMaxBounds(a)),this._map.fitBounds(a)}},{key:"map",set:function(t){this._map=t,this._map?this.registerImageWatch():this._unWatchStore&&this._unWatchStore()}}]),t}(),p=new c,h=p,d=e("b922"),g=e("afbc"),v={map:null,mounted:function(){this.$options.map=new o["Map"]("image-map",{center:[0,0],zoom:3,minZoom:1,maxZoom:13,maxBoundsViscosity:1,zoomControl:!1,crs:o["CRS"].Simple,renderer:new o["Canvas"]({tolerance:5})}),h.map=this.$options.map,d["a"].map=this.$options.map,o["control"].zoom({position:"bottomright"}).addTo(this.$options.map)},methods:{openMap:function(){this.$router.push(Object(g["b"])("image",null))},toogleAllTooltips:function(){d["a"].toggleAllTooltips()}},destroyed:function(){d["a"].map=null,h.map=null}},b=v,y=e("2877"),f=e("6544"),_=e.n(f),O=e("8336"),w=e("132d"),L=e("a722"),B=Object(y["a"])(b,n,i,!1,null,null,null);a["default"]=B.exports;_()(B,{VBtn:O["a"],VIcon:w["a"],VLayout:L["a"]})}}]);